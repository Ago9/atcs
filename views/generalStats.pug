doctype html
html
    head
        title Museum Statistics
        link(rel='stylesheet', href='/stylesheets/style.css')
        script(src='https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.17/d3.min.js')
        link(rel='stylesheet', href='https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css', integrity='sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh', crossorigin='anonymous')
        script(src='https://code.jquery.com/jquery-3.4.1.slim.min.js', integrity='sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n', crossorigin='anonymous')
        script(src='https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js', integrity='sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo', crossorigin='anonymous')
        script(src='https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js', integrity='sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6', crossorigin='anonymous')


    body
        block content
            link(rel='stylesheet', href='/stylesheets/style.css')
            header(class='parallax')
                h1= "General Statistics about the Museum"

            br
            div(class='container bottom-margin')
                div(class='row top-margin left-margin')
                    div(class='col-11')
                        h1(style="color:#FF9933;") Visitors per Hour in general
                    div(class='col-12')
                        div(id='map')

                         script(src="/javascripts/visitorsPerHour.js")

                        script. 
                            var obj = !{JSON.stringify(countPerHour)}
                            drawGraph(obj)

            div(class='container bottom-margin')
                div(class='row top-margin left-margin')
                    div(class='col-11')
                        h1(style="color:#FF9933;") Visitors per Room per Hour
                    div(class='col-6')

                        - var stanza = 1;
                        each item in countPerRoomPerHour
                            if stanza == 1
                                if item.stanza == 1
                                    div(id='map')

                                     script(src="/javascripts/visitorsPerRoomPerHour.js")

                                    script. 
                                        var domain = !{JSON.stringify(countPerRoomPerHour.slice(0, 5))}                      
                                        drawGraph(domain)
                                        addLabel("Room 1")
                                    div(class='col-11')
                                    - stanza = 0;
                    div(class='col-6')

                        - var stanza = 1;
                        each item in countPerRoomPerHour
                            if stanza == 1
                                if item.stanza == 2
                                    div(id='map')

                                     script(src="/javascripts/visitorsPerRoomPerHour.js")

                                    script. 
                                        var domain = !{JSON.stringify(countPerRoomPerHour.slice(6, 10))}                      
                                        drawGraph(domain)
                                        addLabel("Room 2")
                                    - stanza = 0;
                    div(class='col-6')

                        - var stanza = 1;
                        each item in countPerRoomPerHour
                            if stanza == 1
                                if item.stanza == 3
                                    div(id='map')

                                     script(src="/javascripts/visitorsPerRoomPerHour.js")

                                    script. 
                                        var domain = !{JSON.stringify(countPerRoomPerHour.slice(7, 16))}                      
                                        drawGraph(domain)
                                        addLabel("Room 3")
                                    - stanza = 0;
                    div(class='col-6')

                        - var stanza = 1;
                        each item in countPerRoomPerHour
                            if stanza == 1
                                if item.stanza == 4
                                    div(id='map')

                                     script(src="/javascripts/visitorsPerRoomPerHour.js")

                                    script. 
                                        var domain = !{JSON.stringify(countPerRoomPerHour.slice(17, 21))}                      
                                        drawGraph(domain)
                                        addLabel("Room 4")
                                    - stanza = 0;
                    div(class='col-6')

                        - var stanza = 1;
                        each item in countPerRoomPerHour
                            if stanza == 1
                                if item.stanza == 5
                                    div(id='map')

                                     script(src="/javascripts/visitorsPerRoomPerHour.js")

                                    script. 
                                        var domain = !{JSON.stringify(countPerRoomPerHour.slice(22, 27))}                      
                                        drawGraph(domain)
                                        addLabel("Room 5")
                                    - stanza = 0;
                    div(class='col-6')

                        - var stanza = 1;
                        each item in countPerRoomPerHour
                            if stanza == 1
                                if item.stanza == 6
                                    div(id='map')

                                     script(src="/javascripts/visitorsPerRoomPerHour.js")

                                    script. 
                                        var domain = !{JSON.stringify(countPerRoomPerHour.slice(27, 33))}                      
                                        drawGraph(domain)
                                        addLabel("Room 6")
                                    - stanza = 0;
                    div(class='col-12')

                        - var stanza = 1;
                        each item in countPerRoomPerHour
                            if stanza == 1
                                if item.stanza == 7
                                    div(id='map')
                                     script(src="/javascripts/visitorsPerRoomPerHour.js")

                                    script. 
                                        var domain = !{JSON.stringify(countPerRoomPerHour.slice(34, 39))}                      
                                        drawGraph(domain)
                                        addLabel("Room 7")
                                    - stanza = 0;
                    
            div(class='container bottom-margin')
                div(class='row top-margin')
                    div(class='col-3')
                    div(class='col-6')
                        h1(style="color:#FF9933;") Attraction and Holding Power of POIs
                        br
                        div
                            table(class="table")
                                tr
                                    th <b style="color:#FF9933;">POI</b>
                                    th <b style="color:#FF9933;">Visitors</b>
                                    th <b style="color:#FF9933;">Time (seconds)</b> 
                                each item,poi in visitorsPerPoi
                                    tr
                                        td <b style="color:white;">#{poi}</b>
                                        each count in item
                                            td <b style="color:white;">#{count.count}</b>
                                            td <b style="color:white;">#{count.durata.toFixed(2)}</b>
                    div(class='col-3')

                div(class='row top-margin')
                    div(class='col-3')
                    div(class='col-6')
                        h1(style="color:#FF9933;") Statistics about POIs
                        each poiCount, poi in posizionePerHour
                            p(style="color:#FF9933;") #{poi}
                                table(class="table")
                                    tr
                                        th <b style="color:#FF9933;">Period</b>
                                        th <b style="color:#FF9933;">Visitors</b>
                                    each count in poiCount
                                        tr
                                            td <b style="color:white;">#{count.ora} - #{count.ora+1}</b>
                                            td <b style="color:white;">#{count.count}</b>
                    div(class='col-3')

                            
            div(class="parallax")